!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Mmj=t():e.Mmj=t()}(this,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var l=t[r]={i:r,l:!1,exports:{}};return e[r].call(l.exports,l,l.exports,n),l.l=!0,l.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(r,l,function(t){return e[t]}.bind(null,l));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/static/js/",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);const r={};r.onlyId=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})};var l=r;const i={required:function(e){return""!=e.trim()},number:function(e){return/^[-]?(0|[1-9][0-9]*)(\.\d+)?$/.test(e)},znumber:function(e){return/^(0|[1-9][0-9]*)(\.\d+)?$/.test(e)&&e>0},fnumber:function(e){return/^-(0|[1-9][0-9]*)(\.\d+)?$/.test(e)&&e<0},notznumber:function(e){return/^(-(0|[1-9][0-9]*)(\.\d+))|0?$/.test(e)&&e<=0},notfnumber:function(e){return/^((0|[1-9][0-9]*)(\.\d+))|0?$/.test(e)&&e>=0},integer:function(e){return/^[-]?[1-9]*\d$/.test(e)},pInteger:function(e){return/^[1-9]\d*$/.test(e)},nInteger:function(e){return/^-[1-9]\d*$/.test(e)},notpInteger:function(e){return/^-[1-9]\d*|0$/.test(e)},notnInteger:function(e){return/^[1-9]\d*|0$/.test(e)},chinese:function(e){return/[\u4e00-\u9fa5]/.test(e)},email:function(e){return/[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/.test(e)},url:function(e){return/[a-zA-z]+:\/\/[^\s]*/.test(e)},postCode:function(e){return/[1-9]\d{5}(?!\d)/.test(e)},idCard:function(e){return/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(e)},numberInterval:function(e,t){return e-t[0]>=0&&e-t[1]<=0}};var u=i;var o={required:"不为空",number:"请填入数字",znumber:"请输入正数",fnumber:"请输入负数",notznumber:"请输入非正数",notfnumber:"请输入非负数",integer:"请输入整数",pInteger:"请输入正整数",nInteger:"请输入负整数",notpInteger:"请输入非正整数",notnInteger:"请输入非负整数",chinese:"请输入中文",email:"请输入邮箱地址",url:"请输入链接地址",postCode:"请输入邮编地址",idCard:"请输入身份证号",numberInterval:"请填入{{min}}-{{max}}之间的数"};const a=function(e,t,n=[]){var r=e.parentEl,l=document.createElement("span");for(let e=0,r=n.length;e<r;e++)o[t]=o[t].replace(/\{\{\w+\}\}/,n.shift());l.innerHTML=o[t],l.style.color="#ff0000",l.style.marginLeft="3px",l.style.fontSize="12px",l.classList.add("error_msg"),r.append(l),e.style.border="1px solid #ff0000",e.classList.add("error_input")};var s={onBlur:function(e){var t=this;if(t.rule.includes("required"))for(var n=!0,r=0,l=t.rule.length;r<l&&n;r++){let e=/\w+/g,l=t.rule[r].match(e),i=l.shift();l.length>0?(n=u[i](t.value,l))||a(t,i,l):(n=u[i](t.value))||a(t,i)}else if("nothing"==t.nothing&&""==t.value);else for(n=!0,r=0,l=t.rule.length;r<l&&n;r++){let e=/\w+/g,l=t.rule[r].match(e),i=l.shift();l.length>0?(n=u[i](t.value,l))||a(t,i,l):(n=u[i](t.value))||a(t,i)}},onFocus:function(e){this.clear()},clear:function(){var e=this.parentEl;e.lastChild.classList.contains("error_msg")&&(e.removeChild(e.lastChild),this.style.border="",this.classList.remove("error_input"))},showError:a};var c=function(e,t,n){if(!e||!t||"string"!=typeof e||"string"!=typeof t)throw new Error("Please pass in the correct parameters!");{let r=/\w+/g,l=e.match(r).shift();n&&(u[l]=n),o[l]=t}};const{onBlur:f,onFocus:d,clear:h,showError:v}=s,x={customize:c},g={bind:function(e,t,n){var r=t.value.nothing||null;n.data.domProps?e.value=n.data.domProps.value:n.data.attrs.value?e.value=n.data.attrs.value:e.value="",e.rule=t.value.rule||[],e.nothing=r,e.onlyId=l.onlyId(),n.context[t.value.bind].push({$el:e}),n.context[t.value.bind].flag||(n.context[t.value.bind].flag=!0),n.context[t.value.bind].$check||(n.context[t.value.bind].$check=function(e=!1){this.flag=!0;for(let t=0,n=this.length;t<n&&(this.flag||e);t++)for(let n=0,r=this[t].$el.rule.length;n<r&&(this.flag||e);n++){let e=/\w+/g,r=this[t].$el.rule[n].match(e);if(r.length>1){let e=r.shift();this[t].$el.rule.includes("required")?(this.flag=u[e](this[t].$el.value,r),this.flag||v(this[t].$el,e,r)):"nothing"==this[t].$el.nothing&&""==this[t].$el.value?this.flag=!0:(this.flag=u[e](this[t].$el.value,r),this.flag||v(this[t].$el,e,r))}else this[t].$el.rule.includes("required")?(this.flag=u[this[t].$el.rule[n]](this[t].$el.value),this.flag||v(this[t].$el,this[t].$el.rule[n])):"nothing"==this[t].$el.nothing&&""==this[t].$el.value?this.flag=!0:(this.flag=u[this[t].$el.rule[n]](this[t].$el.value),this.flag||v(this[t].$el,this[t].$el.rule[n]))}return this.flag}),e.addEventListener("blur",f,!1),e.addEventListener("focus",d,!1),e.clear=h},inserted:function(e,t,n){e.container?e.parentEl=e.container:e.parentEl=e.parentNode},unbind:function(e,t,n){let r=n.context[t.value.bind].findIndex(t=>t.$el.onlyId==e.onlyId);n.context[t.value.bind][r].$el.clear(),delete n.context[t.value.bind][r].$el.value,delete n.context[t.value.bind][r].$el.rule,delete n.context[t.value.bind][r].$el.nothing,delete n.context[t.value.bind][r].$el.onlyId,delete n.context[t.value.bind][r].$el.parentEl,e.removeEventListener("blur",f,!1),e.removeEventListener("focus",d,!1),n.context[t.value.bind][r].$el.clear=null,n.context[t.value.bind].splice(r,1)}};x.install=function(e){e.directive("vd",g)};t.default=x}])});